apiVersion: pipecd.dev/v1beta1
kind: Runner
spec:
  git:
    sshKeyFile: /etc/pipecd-runner/ssh.key
    accessTokenFile: /etc/pipecd-runner/github.token
  repositories:
    - repo: git@github.com:org/repo1
      branch: master
      pollInterval: 1m
    - repo: git@github.com:org/repo2
      branch: master
      pollInterval: 2m    
  destinations:
    - name: default
      kubernetes:
        allowNamespaces:
          - dev
    - name: gcp-terraform
      terraform:
        gcp:
          project: gcp-project
          region: us-central1
          credentialsFile: /etc/pipecd-runner/terraform.serviceaccount
    - name: aws-terraform
      terraform:
        aws:
          region: us-east-1
  # analysisProviders:
  #   - name: dev-prometheus
  #     prometheus:
  #       address: https://your-prometheus.dev
  #   - name: stackdriver
  #     stackdriver:
  #       projectId: demo
  #       serviceAccountFile: /etc/pipecd-runner/stackdriver.serviceaccount
  #   - name: datadog
  #     datadog:
  #       apiKeyFile: /etc/pipecd-runner/datadog.apikey
  #       applicationKeyFile: /etc/pipecd-runner/datadog.applicationkey
  #   - name: cloudwatch
  #     cloudwatch:
  #       region: ap-northeast-1
